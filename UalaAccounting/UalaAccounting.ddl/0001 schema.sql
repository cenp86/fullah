USE CONTA;

DROP TABLE IF EXISTS `accountchart`;
CREATE TABLE `accountchart` (
  `ENCODEDKEY` varchar(45) NOT NULL,
  `ACCOUNTCHARTID` varchar(45) DEFAULT NULL,
  `GLCODE` varchar(45) DEFAULT NULL,
  `GLNAME` varchar(45) DEFAULT NULL,
  `TYPE` varchar(45) DEFAULT NULL,
  `OWNER` varchar(45) DEFAULT NULL,
  `ENABLE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `accountingbalancestage3`;
CREATE TABLE `accountingbalancestage3` (
  `LOANID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `var_INTEREST_S3` decimal(50,2) DEFAULT NULL,
  `var_INTEREST_MA` decimal(50,2) DEFAULT NULL,
  `var_PENALTY_S3` decimal(50,2) DEFAULT NULL,
  `var_PENALTY_MA` decimal(50,2) DEFAULT NULL,
  `CREATIONDATE` datetime NOT NULL,
  PRIMARY KEY (`LOANID`,`CREATIONDATE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `accountinghubentry`;
CREATE TABLE `accountinghubentry` (
  `LOANID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `PRODUCTENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `BRANCHNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACTUALSTAGE` text CHARACTER SET utf8mb3 COLLATE utf8mb3_bin,
  `LASTSTAGECHANGE` text CHARACTER SET utf8mb3 COLLATE utf8mb3_bin,
  `GLCODE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,
  `GLNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `TRANSACTIONID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '',
  `ENTRYID` bigint NOT NULL DEFAULT '0',
  `AMOUNT` decimal(43,2) NOT NULL DEFAULT '0.00',
  `CREATIONDATE` datetime NOT NULL,
  `BookingDATE` datetime DEFAULT NULL,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `LOANTRANSACTIONTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRINCIPALDUE` decimal(43,2) DEFAULT NULL,
  `PRICINPALBALANCE` decimal(43,2) DEFAULT NULL,
  `REVERSALTRANSACTIONID` varchar(32) DEFAULT NULL,
  `IS_PAYOFF` tinyint(1) NOT NULL DEFAULT '0',
  `IS_PREPAYMENT` tinyint(1) NOT NULL DEFAULT '0',
  `IS_OVERDUE` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`LOANID`,`ENTRYID`),
  KEY `idx_rpaoriginal_CREATIONDATE` (`CREATIONDATE`),
  KEY `idx_rpaoriginal_REVERSALTRANSACTIONID` (`REVERSALTRANSACTIONID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `accountinghubexit`;
CREATE TABLE `accountinghubexit` (
  `LOANID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `PRODUCTENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `BRANCHNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACTUALSTAGE` text CHARACTER SET utf8mb3 COLLATE utf8mb3_bin,
  `LASTSTAGECHANGE` text CHARACTER SET utf8mb3 COLLATE utf8mb3_bin,
  `GLCODE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `GLNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `TRANSACTIONID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '',
  `ENTRYID` bigint NOT NULL DEFAULT '0',
  `TRANSACTIONIDREV` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '',
  `ENTRYIDREV` bigint DEFAULT '0',
  `AMOUNT` decimal(50,2) DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `BookingDATE` datetime DEFAULT NULL,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '',
  `LOANTRANSACTIONTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `MAMBUGLCODE` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`LOANID`,`GLCODE`,`TRANSACTIONID`,`ENTRYID`,`TYPE`),
  KEY `idx_rpatransformado_LOANID_GLCODE_ENTRYID_CREATIONDATE_TYPE` (`LOANID`,`GLCODE`,`ENTRYID`,`CREATIONDATE`,`TYPE`),
  KEY `idx_rpatransformado_TRANSACTIONID_MAMBUGLCODE` (`MAMBUGLCODE`,`TRANSACTIONID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `accountinghublogs`;
CREATE TABLE `accountinghublogs` (
  `LOGID` int NOT NULL AUTO_INCREMENT,
  `LOGLINE` varchar(120) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `CREATIONDATE` datetime NOT NULL,
  PRIMARY KEY (`LOGID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `accountinginterestaccrualbreakdown`;
CREATE TABLE `accountinginterestaccrualbreakdown` (
  `ID` bigint unsigned NOT NULL AUTO_INCREMENT,
  `TRANSACTIONID` varchar(32) NOT NULL,
  `ENTRYID` bigint NOT NULL,
  `ENTRYTYPE` varchar(32) NOT NULL,
  `AMOUNT` decimal(50,10) NOT NULL,
  `CREATIONDATE` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `BOOKINGDATE` datetime NOT NULL,
  `GLACCOUNTENCODEDKEY` varchar(32) NOT NULL,
  `GLACCOUNTTYPE` varchar(32) NOT NULL,
  `ACCOUNTENCODEDKEY` varchar(32) NOT NULL,
  `ACCOUNTID` varchar(32) NOT NULL,
  `BRANCHENCODEDKEY` varchar(32) DEFAULT NULL,
  `PRODUCTENCODEDKEY` varchar(32) NOT NULL,
  `PRODUCTTYPE` varchar(32) NOT NULL,
  `SENT` tinyint(1) NOT NULL DEFAULT '0',
  `PROCESSED` tinyint(1) NOT NULL DEFAULT '0',
  `ACCRUALTYPE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'INTEREST_ACCRUED',
  `FOREIGNAMOUNT` decimal(50,10) DEFAULT NULL,
  `ACCOUNTINGRATEKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CURRENCYCODE` varchar(3) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_TRANSACTIONID_IDX` (`TRANSACTIONID`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_ENTRYID_IDX` (`ENTRYID`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_CREATIONDATE_IDX` (`CREATIONDATE`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_ACCOUNTID_IDX` (`ACCOUNTID`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_BRANCHENCODEDKEY_IDX` (`BRANCHENCODEDKEY`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_PRODUCTENCODEDKEY_IDX` (`PRODUCTENCODEDKEY`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_GLACCOUNTENCODEDKEY_IDX` (`GLACCOUNTENCODEDKEY`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_ACCOUNTENCODEDKEY_IDX` (`ACCOUNTENCODEDKEY`),
  KEY `ACCOUNTINGINTERESTACCRUALBREAKDOWN_BOOKINGDATE_IDX` (`BOOKINGDATE`)
) ENGINE=InnoDB AUTO_INCREMENT=3298668 DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `branch`;
CREATE TABLE `branch` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `ID` varchar(32) NOT NULL DEFAULT '',
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `NAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `STATE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'ACTIVE',
  `NOTES` mediumtext,
  `PHONENUMBER` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `EMAILADDRESS` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `BRANCH_UNIQUE_ID` (`ID`),
  KEY `BRANCH_ID` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `configurationaccountinghub`;
CREATE TABLE `configurationaccountinghub` (
  `ENCODEDKEY` varchar(45) NOT NULL,
  `NAME` varchar(50) NOT NULL,
  `VALUECONFIGURATION` varchar(500) DEFAULT NULL,
  `ENABLE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `configurationsheetcolumns`;
CREATE TABLE `configurationsheetcolumns` (
  `ENCODEDKEY` varchar(45) NOT NULL,
  `CONFIGURATIONSHEETENCODEDKEY` varchar(45) NOT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `COLUMNINDEX` int DEFAULT NULL,
  `REQUIRED` tinyint(1) DEFAULT NULL,
  `ENABLE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `configurationsheets`;
CREATE TABLE `configurationsheets` (
  `ENCODEDKEY` varchar(45) NOT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `STARTPOSITION` int DEFAULT NULL,
  `STARTPOSITIONCOLUMNNAME` int DEFAULT NULL,
  `NUMBERCOLUMNS` int DEFAULT NULL,
  `REQUIREDID` tinyint(1) DEFAULT NULL,
  `STARTPOSITIONID` int DEFAULT NULL,
  `RECLASSIFICATION` tinyint(1) DEFAULT NULL,
  `ENABLE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `customfield`;
CREATE TABLE `customfield` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `DATATYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ISDEFAULT` bit(1) DEFAULT NULL,
  `ISREQUIRED` bit(1) DEFAULT NULL,
  `NAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `VALUES` mediumblob,
  `AMOUNTS` mediumblob,
  `DESCRIPTION` varchar(256) DEFAULT NULL,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `VALUELENGTH` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'SHORT',
  `INDEXINLIST` int DEFAULT '-1',
  `CUSTOMFIELDSET_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `STATE` varchar(256) NOT NULL DEFAULT 'NORMAL',
  `VALIDATIONPATTERN` varchar(256) DEFAULT NULL,
  `VIEWUSAGERIGHTSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `EDITUSAGERIGHTSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `BUILTINCUSTOMFIELDID` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `UNIQUE` bit(1) NOT NULL DEFAULT b'0',
  `TEMPORARYID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `AVAILABLEFORALL` tinyint(1) NOT NULL DEFAULT '0',
  `ID_GENERATED` int unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `CUSTOMFIELD_TEMPORARYID_IDX` (`TEMPORARYID`),
  UNIQUE KEY `ID_GENERATED_IDX` (`ID_GENERATED`),
  UNIQUE KEY `CUSTOMFIELD_ID` (`ID`),
  KEY `CUSTOMFIELD_TYPE` (`TYPE`(255)),
  KEY `CUSTOMFIELD_CUSTOMFIELDSET` (`CUSTOMFIELDSET_ENCODEDKEY_OID`),
  KEY `CUSTOMFIELD_VIEWUSAGERIGHTSKEY_KEY` (`VIEWUSAGERIGHTSKEY`),
  KEY `CUSTOMFIELD_EDITUSAGERIGHTSKEY_KEY` (`EDITUSAGERIGHTSKEY`)
) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `customfieldvalue`;
CREATE TABLE `customfieldvalue` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `CUSTOMFIELDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `INDEXINLIST` int DEFAULT NULL,
  `PARENTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `VALUE` varchar(2048) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LINKEDENTITYKEYVALUE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `AMOUNT` decimal(50,10) DEFAULT NULL,
  `CUSTOMFIELDSETGROUPINDEX` int NOT NULL DEFAULT '-1',
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `CUSTOMFIELDVALUE_COMPOSED_INDEX1` (`CUSTOMFIELDKEY`,`PARENTKEY`,`CUSTOMFIELDSETGROUPINDEX`),
  KEY `CUSTOMFIELDVALUE_PARENTKEY` (`PARENTKEY`),
  KEY `CUSTOMFIELDVALUE_LINKEDENTITYKEYVALUE` (`LINKEDENTITYKEYVALUE`),
  KEY `CUSTOMFIELDVALUE_IDX` (`VALUE`(255))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `glaccount`;
CREATE TABLE `glaccount` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACTIVATED` bit(1) DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `DESCRIPTION` mediumtext,
  `GLCODE` varchar(32) DEFAULT NULL,
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `NAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `USAGE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `MIGRATIONEVENTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ALLOWMANUALJOURNALENTRIES` bit(1) DEFAULT b'1',
  `STRIPTRAILINGZEROS` bit(1) DEFAULT b'1',
  `CURRENCYCODE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `GLCODE_UNIQUE` (`GLCODE`),
  KEY `GLACCOUNT_GLCODE` (`GLCODE`),
  KEY `GLACCOUNT_MIGRATIONEVENT` (`MIGRATIONEVENTKEY`),
  KEY `FK_GLACCOUNT_CURRENCY_CODE` (`CURRENCYCODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `gljournalentry`;
CREATE TABLE `gljournalentry` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `AMOUNT` decimal(50,10) NOT NULL,
  `ENTRYID` bigint NOT NULL AUTO_INCREMENT,
  `CREATIONDATE` datetime DEFAULT NULL,
  `GLACCOUNT_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `NOTES` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRODUCTTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ENTRYDATE` datetime DEFAULT NULL,
  `TRANSACTIONID` varchar(32) NOT NULL,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `USERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDBRANCHKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REVERSALENTRYKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRODUCTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  KEY `GLJOURNALENTRY_N49` (`GLACCOUNT_ENCODEDKEY_OID`),
  KEY `GLJOURNALENTRY_TRANSACTIONDATE` (`ENTRYDATE`),
  KEY `GLJOURNALENTRY_ASSIGNEDBRANCHKEY` (`ASSIGNEDBRANCHKEY`),
  KEY `REVERSALENTRYKEY` (`REVERSALENTRYKEY`),
  KEY `TRANSACTIONID` (`TRANSACTIONID`),
  KEY `USERKEY_IDX` (`USERKEY`),
  KEY `ACCOUNTKEY_IDX` (`ACCOUNTKEY`),
  KEY `PRODUCTKEY_IDX` (`PRODUCTKEY`),
  KEY `GLJOURNALENTRY_ENTRYDATE_BRANCH_GLACCOUNT_IDX` (`ENTRYDATE`,`ASSIGNEDBRANCHKEY`,`GLACCOUNT_ENCODEDKEY_OID`),
  KEY `GLJOURNALENTRY_ENTRYID` (`ENTRYID`),
  KEY `GLJOURNALENTRY_CREATIONDATE_IDX` (`CREATIONDATE`)
) ENGINE=InnoDB AUTO_INCREMENT=2483169 DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `loanaccount`;
CREATE TABLE `loanaccount` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTHOLDERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTHOLDERTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTSTATE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACCOUNTSUBSTATE` varchar(256) DEFAULT NULL,
  `RESCHEDULEDACCOUNTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDBRANCHKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDUSERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CLOSEDDATE` datetime DEFAULT NULL,
  `LASTLOCKEDDATE` datetime DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `APPROVEDDATE` datetime DEFAULT NULL,
  `FEESDUE` decimal(50,10) DEFAULT NULL,
  `FEESPAID` decimal(50,10) DEFAULT NULL,
  `GRACEPERIOD` int NOT NULL,
  `GRACEPERIODTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ID` varchar(32) DEFAULT NULL,
  `INTERESTCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTTYPE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'SIMPLE_INTEREST',
  `REPAYMENTSCHEDULEMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTAPPLICATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTCHARGEFREQUENCY` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTBALANCE` decimal(50,10) DEFAULT NULL,
  `INTERESTPAID` decimal(50,10) DEFAULT NULL,
  `INTERESTRATE` decimal(50,20) DEFAULT NULL,
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `LASTSETTOARREARSDATE` datetime DEFAULT NULL,
  `LOANAMOUNT` decimal(50,10) DEFAULT NULL,
  `PERIODICPAYMENT` decimal(50,10) NOT NULL DEFAULT '0.0000000000',
  `LOANGROUP_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LOANNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `NOTES` mediumtext,
  `PENALTYDUE` decimal(50,10) DEFAULT NULL,
  `PENALTYPAID` decimal(50,10) DEFAULT NULL,
  `PRINCIPALBALANCE` decimal(50,10) DEFAULT NULL,
  `PRINCIPALPAID` decimal(50,10) DEFAULT NULL,
  `PRODUCTTYPEKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTINSTALLMENTS` int NOT NULL,
  `REPAYMENTPERIODCOUNT` int DEFAULT NULL,
  `REPAYMENTPERIODUNIT` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACCOUNTS_INTEGER_IDX` int DEFAULT NULL,
  `MIGRATIONEVENTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDCENTREKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LASTACCOUNTAPPRAISALDATE` datetime DEFAULT NULL,
  `PRINCIPALREPAYMENTINTERVAL` int DEFAULT '1',
  `PRINCIPALDUE` decimal(50,10) DEFAULT NULL,
  `INTERESTDUE` decimal(50,10) DEFAULT NULL,
  `LASTINTERESTREVIEWDATE` datetime DEFAULT NULL,
  `ACCRUELATEINTEREST` bit(1) NOT NULL DEFAULT b'1',
  `INTERESTSPREAD` decimal(50,10) DEFAULT NULL,
  `INTERESTRATESOURCE` varchar(256) NOT NULL DEFAULT 'FIXED_INTEREST_RATE',
  `INTERESTRATEREVIEWUNIT` varchar(256) DEFAULT NULL,
  `INTERESTRATEREVIEWCOUNT` int DEFAULT NULL,
  `ACCRUEDINTEREST` decimal(50,10) DEFAULT '0.0000000000',
  `LASTINTERESTAPPLIEDDATE` datetime DEFAULT NULL,
  `FEESBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `PENALTYBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `SCHEDULEDUEDATESMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'INTERVAL',
  `HASCUSTOMSCHEDULE` bit(1) NOT NULL DEFAULT b'0',
  `FIXEDDAYSOFMONTH` mediumblob,
  `SHORTMONTHHANDLINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXRATE` decimal(50,10) DEFAULT NULL,
  `LASTTAXRATEREVIEWDATE` datetime DEFAULT NULL,
  `PENALTYRATE` decimal(50,20) DEFAULT NULL,
  `LOANPENALTYCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'NONE',
  `ACCRUEDPENALTY` decimal(50,10) DEFAULT '0.0000000000',
  `ACTIVATIONTRANSACTIONKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LINEOFCREDITKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LOCKEDOPERATIONS` mediumblob,
  `INTERESTCOMMISSION` decimal(50,20) DEFAULT NULL,
  `DEFAULTFIRSTREPAYMENTDUEDATEOFFSET` decimal(50,20) DEFAULT NULL,
  `PRINCIPALPAYMENTSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTBALANCECALCULATIONMETHOD` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'PRINCIPAL_ONLY',
  `DISBURSEMENTDETAILSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ARREARSTOLERANCEPERIOD` int NOT NULL DEFAULT '0',
  `ACCRUEINTERESTAFTERMATURITY` bit(1) NOT NULL DEFAULT b'0',
  `PREPAYMENTRECALCULATIONMETHOD` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRINCIPALPAIDINSTALLMENTSTATUS` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ELEMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LATEPAYMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `APPLYINTERESTONPREPAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ALLOWOFFSET` bit(1) NOT NULL DEFAULT b'0',
  `FUTUREPAYMENTSACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NO_FUTURE_PAYMENTS',
  `REDRAWBALANCE` decimal(50,10) DEFAULT NULL,
  `PREPAYMENTACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'ACCEPT_PREPAYMENTS',
  `INTERESTFROMARREARSACCRUED` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSDUE` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSPAID` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTROUNDINGVERSION` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'VERSION_1',
  `ACCOUNTARREARSSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `HOLDBALANCE` decimal(50,10) NOT NULL DEFAULT '0.0000000000',
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `LOANACCOUNT_ID` (`ID`),
  KEY `LOANACCOUNT_N49` (`LOANGROUP_ENCODEDKEY_OID`),
  KEY `LOANACCOUNT_ACCOUNTHOLDERKEY` (`ACCOUNTHOLDERKEY`),
  KEY `LOANACCOUNT_ACCOUNTHOLDERTYPE` (`ACCOUNTHOLDERTYPE`(255)),
  KEY `LOANACCOUNT_CLOSEDDATE` (`CLOSEDDATE`),
  KEY `LOANACCOUNT_ASSIGNEDBRANCHKEY` (`ASSIGNEDBRANCHKEY`),
  KEY `LOANACCOUNT_ACCOUNTSTATE` (`ACCOUNTSTATE`(255)),
  KEY `LOANACCOUNT_MIGRATIONEVENT` (`MIGRATIONEVENTKEY`),
  KEY `LOANACCOUNT_ASSIGNEDCENTREKEY` (`ASSIGNEDCENTREKEY`),
  KEY `LOANACCOUNT_RESCHEDULEDACCOUNTKEY` (`RESCHEDULEDACCOUNTKEY`),
  KEY `LOANACCOUNT_ASSIGNEDUSERKEY` (`ASSIGNEDUSERKEY`),
  KEY `ACTIVATIONTRANSACTIONKEY_IDX` (`ACTIVATIONTRANSACTIONKEY`),
  KEY `LOANACCOUNT_LINEOFCREDITKEY` (`LINEOFCREDITKEY`),
  KEY `DISBURSEMENTDETAILSKEY_IDX` (`DISBURSEMENTDETAILSKEY`),
  KEY `LOANACCOUNT_PRINCIPALPAYMENTACCOUNTSETTINGS_SETTINGSKEY` (`PRINCIPALPAYMENTSETTINGSKEY`),
  KEY `LOANACCOUNT_PRODUCTTYPEKEY_CREATIONDATE` (`PRODUCTTYPEKEY`,`CREATIONDATE`),
  KEY `LOANACCOUNT_LASTMODIFIEDDATE_IDX` (`LASTMODIFIEDDATE`),
  KEY `FK_LOANACCOUNT_ACCOUNTARREARSSETTINGSKEY_SETTINGSKEY` (`ACCOUNTARREARSSETTINGSKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `loanaccounthistory`;
CREATE TABLE `loanaccounthistory` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTHOLDERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTHOLDERTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ACCOUNTSTATE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACCOUNTSUBSTATE` varchar(256) DEFAULT NULL,
  `RESCHEDULEDACCOUNTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDBRANCHKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDUSERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CLOSEDDATE` datetime DEFAULT NULL,
  `LASTLOCKEDDATE` datetime DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `APPROVEDDATE` datetime DEFAULT NULL,
  `FEESDUE` decimal(50,10) DEFAULT NULL,
  `FEESPAID` decimal(50,10) DEFAULT NULL,
  `GRACEPERIOD` int NOT NULL,
  `GRACEPERIODTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ID` varchar(32) DEFAULT NULL,
  `INTERESTCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTTYPE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'SIMPLE_INTEREST',
  `REPAYMENTSCHEDULEMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTAPPLICATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTCHARGEFREQUENCY` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTBALANCE` decimal(50,10) DEFAULT NULL,
  `INTERESTPAID` decimal(50,10) DEFAULT NULL,
  `INTERESTRATE` decimal(50,20) DEFAULT NULL,
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `LASTSETTOARREARSDATE` datetime DEFAULT NULL,
  `LOANAMOUNT` decimal(50,10) DEFAULT NULL,
  `PERIODICPAYMENT` decimal(50,10) NOT NULL DEFAULT '0.0000000000',
  `LOANGROUP_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LOANNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `NOTES` mediumtext,
  `PENALTYDUE` decimal(50,10) DEFAULT NULL,
  `PENALTYPAID` decimal(50,10) DEFAULT NULL,
  `PRINCIPALBALANCE` decimal(50,10) DEFAULT NULL,
  `PRINCIPALPAID` decimal(50,10) DEFAULT NULL,
  `PRODUCTTYPEKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTINSTALLMENTS` int NOT NULL,
  `REPAYMENTPERIODCOUNT` int DEFAULT NULL,
  `REPAYMENTPERIODUNIT` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ACCOUNTS_INTEGER_IDX` int DEFAULT NULL,
  `MIGRATIONEVENTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ASSIGNEDCENTREKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LASTACCOUNTAPPRAISALDATE` datetime DEFAULT NULL,
  `PRINCIPALREPAYMENTINTERVAL` int DEFAULT '1',
  `PRINCIPALDUE` decimal(50,10) DEFAULT NULL,
  `INTERESTDUE` decimal(50,10) DEFAULT NULL,
  `LASTINTERESTREVIEWDATE` datetime DEFAULT NULL,
  `ACCRUELATEINTEREST` bit(1) NOT NULL DEFAULT b'1',
  `INTERESTSPREAD` decimal(50,10) DEFAULT NULL,
  `INTERESTRATESOURCE` varchar(256) NOT NULL DEFAULT 'FIXED_INTEREST_RATE',
  `INTERESTRATEREVIEWUNIT` varchar(256) DEFAULT NULL,
  `INTERESTRATEREVIEWCOUNT` int DEFAULT NULL,
  `ACCRUEDINTEREST` decimal(50,10) DEFAULT '0.0000000000',
  `LASTINTERESTAPPLIEDDATE` datetime DEFAULT NULL,
  `FEESBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `PENALTYBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `SCHEDULEDUEDATESMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'INTERVAL',
  `HASCUSTOMSCHEDULE` bit(1) NOT NULL DEFAULT b'0',
  `FIXEDDAYSOFMONTH` mediumblob,
  `SHORTMONTHHANDLINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXRATE` decimal(50,10) DEFAULT NULL,
  `LASTTAXRATEREVIEWDATE` datetime DEFAULT NULL,
  `PENALTYRATE` decimal(50,20) DEFAULT NULL,
  `LOANPENALTYCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'NONE',
  `ACCRUEDPENALTY` decimal(50,10) DEFAULT '0.0000000000',
  `ACTIVATIONTRANSACTIONKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LINEOFCREDITKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LOCKEDOPERATIONS` mediumblob,
  `INTERESTCOMMISSION` decimal(50,20) DEFAULT NULL,
  `DEFAULTFIRSTREPAYMENTDUEDATEOFFSET` decimal(50,20) DEFAULT NULL,
  `PRINCIPALPAYMENTSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTBALANCECALCULATIONMETHOD` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'PRINCIPAL_ONLY',
  `DISBURSEMENTDETAILSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ARREARSTOLERANCEPERIOD` int NOT NULL DEFAULT '0',
  `ACCRUEINTERESTAFTERMATURITY` bit(1) NOT NULL DEFAULT b'0',
  `PREPAYMENTRECALCULATIONMETHOD` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRINCIPALPAIDINSTALLMENTSTATUS` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ELEMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LATEPAYMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `APPLYINTERESTONPREPAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ALLOWOFFSET` bit(1) NOT NULL DEFAULT b'0',
  `FUTUREPAYMENTSACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NO_FUTURE_PAYMENTS',
  `REDRAWBALANCE` decimal(50,10) DEFAULT NULL,
  `PREPAYMENTACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'ACCEPT_PREPAYMENTS',
  `INTERESTFROMARREARSACCRUED` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSDUE` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSPAID` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTFROMARREARSBALANCE` decimal(50,10) DEFAULT '0.0000000000',
  `INTERESTROUNDINGVERSION` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'VERSION_1',
  `ACCOUNTARREARSSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `HOLDBALANCE` decimal(50,10) NOT NULL DEFAULT '0.0000000000',
  `SNAPSHOTDATE` date NOT NULL DEFAULT (curdate()),
  PRIMARY KEY (`ENCODEDKEY`,`SNAPSHOTDATE`),
  UNIQUE KEY `LOANACCOUNT_ID_SNAPSHOTDATE` (`ID`,`SNAPSHOTDATE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `loanproduct`;
CREATE TABLE `loanproduct` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ID` varchar(32) DEFAULT NULL,
  `ACTIVATED` bit(1) DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `DEFAULTGRACEPERIOD` int DEFAULT NULL,
  `DEFAULTLOANAMOUNT` decimal(50,10) DEFAULT NULL,
  `DEFAULTNUMINSTALLMENTS` int DEFAULT NULL,
  `DEFAULTREPAYMENTPERIODCOUNT` int DEFAULT NULL,
  `GRACEPERIODTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTTYPE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'SIMPLE_INTEREST',
  `REPAYMENTSCHEDULEMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'FIXED',
  `LASTMODIFIEDDATE` datetime DEFAULT NULL,
  `MAXGRACEPERIOD` int DEFAULT NULL,
  `MAXLOANAMOUNT` decimal(50,10) DEFAULT NULL,
  `MAXNUMINSTALLMENTS` int DEFAULT NULL,
  `MAXPENALTYRATE` decimal(50,20) DEFAULT NULL,
  `MINGRACEPERIOD` int DEFAULT NULL,
  `MINLOANAMOUNT` decimal(50,10) DEFAULT NULL,
  `MINNUMINSTALLMENTS` int DEFAULT NULL,
  `MINPENALTYRATE` decimal(50,20) DEFAULT NULL,
  `DEFAULTPENALTYRATE` decimal(50,20) DEFAULT NULL,
  `PRODUCTDESCRIPTION` mediumtext,
  `PRODUCTNAME` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTPERIODUNIT` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PREPAYMENTACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'ACCEPT_PREPAYMENTS',
  `INTERESTAPPLICATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'ON_DISBURSEMENT',
  `ALLOWARBITRARYFEES` bit(1) NOT NULL DEFAULT b'0',
  `DEFAULTPRINCIPALREPAYMENTINTERVAL` int DEFAULT NULL,
  `LOANPENALTYCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'NONE',
  `LOANPENALTYGRACEPERIOD` int DEFAULT NULL,
  `REPAYMENTCURRENCYROUNDING` varchar(256) DEFAULT 'NO_ROUNDING',
  `ROUNDINGREPAYMENTSCHEDULEMETHOD` varchar(256) DEFAULT 'NO_ROUNDING',
  `PREPAYMENTRECALCULATIONMETHOD` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PRINCIPALPAIDINSTALLMENTSTATUS` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `DAYSINYEAR` varchar(256) DEFAULT 'DAYS_365',
  `SCHEDULEINTERESTDAYSCOUNTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTALLOCATIONORDER` mediumblob,
  `IDGENERATORTYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'RANDOM_PATTERN',
  `IDPATTERN` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT '@@@@###',
  `ACCOUNTINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'NONE',
  `ACCOUNTLINKINGENABLED` bit(1) NOT NULL DEFAULT b'0',
  `LINKABLESAVINGSPRODUCTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `AUTOLINKACCOUNTS` bit(1) NOT NULL DEFAULT b'0',
  `AUTOCREATELINKEDACCOUNTS` bit(1) NOT NULL DEFAULT b'0',
  `REPAYMENTSCHEDULEEDITOPTIONS` mediumblob,
  `SCHEDULEDUEDATESMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'INTERVAL',
  `PAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'HORIZONTAL',
  `FIXEDDAYSOFMONTH` mediumblob,
  `SHORTMONTHHANDLINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXESONINTERESTENABLED` bit(1) NOT NULL DEFAULT b'0',
  `TAXSOURCEKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXCALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `FUTUREPAYMENTSACCEPTANCE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NO_FUTURE_PAYMENTS',
  `TAXESONFEESENABLED` bit(1) NOT NULL DEFAULT b'0',
  `TAXESONPENALTYENABLED` bit(1) NOT NULL DEFAULT b'0',
  `APPLYINTERESTONPREPAYMENTMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTELEMENTSROUNDINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NO_ROUNDING',
  `ELEMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `DORMANCYPERIODDAYS` int DEFAULT NULL,
  `LOCKPERIODDAYS` int DEFAULT NULL,
  `CAPPINGMETHOD` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CAPPINGCONSTRAINTTYPE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CAPPINGPERCENTAGE` decimal(50,20) DEFAULT NULL,
  `CAPPINGAPPLYACCRUEDCHARGESBEFORELOCKING` bit(1) NOT NULL DEFAULT b'0',
  `SETTLEMENTOPTIONS` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'FULL_DUE_AMOUNTS',
  `OFFSETPERCENTAGE` decimal(50,20) DEFAULT NULL,
  `ACCOUNTINITIALSTATE` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'PENDING_APPROVAL',
  `MAXNUMBEROFDISBURSEMENTTRANCHES` int DEFAULT '1',
  `LATEPAYMENTSRECALCULATIONMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'INCREASE_OVERDUE_INSTALLMENTS',
  `AMORTIZATIONMETHOD` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'STANDARD_PAYMENTS',
  `INTERESTRATESETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LINEOFCREDITREQUIREMENT` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'OPTIONAL',
  `PRODUCTSECURITYSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `DEFAULTFIRSTREPAYMENTDUEDATEOFFSET` decimal(50,20) DEFAULT NULL,
  `MINFIRSTREPAYMENTDUEDATEOFFSET` decimal(50,20) DEFAULT NULL,
  `MAXFIRSTREPAYMENTDUEDATEOFFSET` decimal(50,20) DEFAULT NULL,
  `INTERESTACCRUEDACCOUNTINGMETHOD` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NONE',
  `LOANPRODUCTTYPE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'FIXED_TERM_LOAN',
  `FORINDIVIDUALS` bit(1) NOT NULL DEFAULT b'0',
  `FORPUREGROUPS` bit(1) NOT NULL DEFAULT b'0',
  `FORHYBRIDGROUPS` bit(1) NOT NULL DEFAULT b'0',
  `FORALLBRANCHES` bit(1) NOT NULL DEFAULT b'1',
  `PRINCIPALPAYMENTSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REPAYMENTRESCHEDULINGMETHOD` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'NEXT_WORKING_DAY',
  `INTERESTBALANCECALCULATIONMETHOD` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'PRINCIPAL_ONLY',
  `ARREARSSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REDRAWSETTINGSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ALLOWCUSTOMREPAYMENTALLOCATION` bit(1) NOT NULL DEFAULT b'0',
  `ACCRUELATEINTEREST` bit(1) NOT NULL DEFAULT b'1',
  `INTERESTACCRUALCALCULATION` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT 'NONE',
  `CATEGORY` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_unicode_ci DEFAULT NULL,
  `CURRENCYCODE` varchar(3) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `FOUREYESPRINCIPLELOANAPPROVAL` bit(1) NOT NULL DEFAULT b'0',
  PRIMARY KEY (`ENCODEDKEY`),
  KEY `LOANPRODUCT_LINKABLESAVINGSPRODUCTKEY` (`LINKABLESAVINGSPRODUCTKEY`),
  KEY `LOANPRODUCT_TAXSOURCEKEY` (`TAXSOURCEKEY`),
  KEY `INTERESTRATESETTINGS_FK` (`INTERESTRATESETTINGSKEY`),
  KEY `PRODUCTSECURITYSETTINGS_KEY` (`PRODUCTSECURITYSETTINGSKEY`),
  KEY `FK_LOANPRODUCT_PRODUCTARREARSSETTINGS_ARREARSSETTINGS` (`ARREARSSETTINGSKEY`),
  KEY `LOANPRODUCT_INTERESTPRODUCTSETTINGS_KEY` (`INTERESTRATESETTINGSKEY`),
  KEY `LOANPRODUCT_PRINCIPALPAYMENTPRODUCTSETTINGS_SETTINGSKEY` (`PRINCIPALPAYMENTSETTINGSKEY`),
  KEY `LOANPRODUCT_ID_IDX` (`ID`),
  KEY `LOANPRODUCT_PRODUCTREDRAWSETTINGS_REDRAWSETTINGSKEY` (`REDRAWSETTINGSKEY`),
  KEY `LOANPRODUCT_CURRENCY_FK` (`CURRENCYCODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `loantransaction`;
CREATE TABLE `loantransaction` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `AMOUNT` decimal(50,10) DEFAULT NULL,
  `BALANCE` decimal(50,10) DEFAULT NULL,
  `BRANCHKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CENTREKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `COMMENT` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `DETAILS_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PARENTACCOUNTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `TRANSACTIONID` bigint NOT NULL AUTO_INCREMENT,
  `TYPE` varchar(256) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `USERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REVERSALTRANSACTIONKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ENTRYDATE` datetime DEFAULT NULL,
  `PRINCIPALAMOUNT` decimal(50,10) DEFAULT NULL,
  `INTERESTAMOUNT` decimal(50,10) DEFAULT NULL,
  `FUNDERSINTERESTAMOUNT` decimal(50,20) NOT NULL DEFAULT '0.00000000000000000000',
  `ORGANIZATIONCOMMISSIONAMOUNT` decimal(50,20) NOT NULL DEFAULT '0.00000000000000000000',
  `FEESAMOUNT` decimal(50,10) DEFAULT NULL,
  `PENALTYAMOUNT` decimal(50,10) DEFAULT NULL,
  `INDEXINTERESTRATE_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXRATE_ENCODEDKEY_OID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXONINTERESTAMOUNT` decimal(50,10) DEFAULT NULL,
  `DEFERREDINTERESTAMOUNT` decimal(50,10) DEFAULT NULL,
  `DEFERREDTAXONINTERESTAMOUNT` decimal(50,10) DEFAULT NULL,
  `MIGRATIONEVENTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `TAXONFEESAMOUNT` decimal(50,10) DEFAULT '0.0000000000',
  `TAXONPENALTYAMOUNT` decimal(50,10) DEFAULT '0.0000000000',
  `PRODUCTTYPEKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `PARENTLOANTRANSACTIONKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ORIGINALCURRENCYCODE` varchar(3) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `ORIGINALAMOUNT` decimal(50,10) DEFAULT NULL,
  `TILLKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERESTRATE` decimal(50,20) DEFAULT NULL,
  `LOANTRANSACTIONTERMSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `REDRAWBALANCE` decimal(50,10) DEFAULT NULL,
  `PRINCIPALBALANCE` decimal(50,10) DEFAULT NULL,
  `ADVANCEPOSITION` decimal(50,10) DEFAULT NULL,
  `ARREARSPOSITION` decimal(50,10) DEFAULT NULL,
  `EXPECTEDPRINCIPALREDRAW` decimal(50,10) DEFAULT NULL,
  `INTERESTFROMARREARSAMOUNT` decimal(50,10) DEFAULT '0.0000000000',
  `TAXONINTERESTFROMARREARSAMOUNT` decimal(50,10) DEFAULT '0.0000000000',
  `EXTERNALID` varchar(36) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `TRANSACTIONID_UNIQUE` (`TRANSACTIONID`),
  UNIQUE KEY `EXTERNALID` (`EXTERNALID`),
  KEY `LOANTRANSACTION_N49` (`DETAILS_ENCODEDKEY_OID`),
  KEY `LOANTRANSACTION_PARENTACCOUNTKEY` (`PARENTACCOUNTKEY`),
  KEY `LOANTRANSACTION_REVERSALTRANSACTIONKEY` (`REVERSALTRANSACTIONKEY`),
  KEY `LOANTRANSACTION_BRANCHKEY` (`BRANCHKEY`),
  KEY `LOANTRANSACTION_USERKEY` (`USERKEY`),
  KEY `LOANTRANSACTION_FK8` (`INDEXINTERESTRATE_ENCODEDKEY_OID`),
  KEY `LOANTRANSACTION_FK9` (`TAXRATE_ENCODEDKEY_OID`),
  KEY `LOANTRANSACTION_FK10` (`MIGRATIONEVENTKEY`),
  KEY `LOANTRANSACTION_ENTRYDATE` (`ENTRYDATE`),
  KEY `LOANTRANSACTION_CREATIONDATE` (`CREATIONDATE`),
  KEY `LOANTRANSACTION_TRANSACTIONID` (`TRANSACTIONID`),
  KEY `LOANTRANSACTION_ENTRYDATE_REVERSALKEY_BRANCHKEY` (`ENTRYDATE`,`REVERSALTRANSACTIONKEY`,`BRANCHKEY`),
  KEY `LOANTRANSACTION_PRODUCTTYPEKEY` (`PRODUCTTYPEKEY`),
  KEY `LOANTRANSACTION_PARENTLOANTRANSACTIONKEY` (`PARENTLOANTRANSACTIONKEY`),
  KEY `LOANTRANSACTION_FK12` (`ORIGINALCURRENCYCODE`),
  KEY `LOANTRANSACTION_CENTREKEY` (`CENTREKEY`),
  KEY `TILLKEY_IDX` (`TILLKEY`),
  KEY `LOANTRANSACTIONTERMSKEY_IDX` (`LOANTRANSACTIONTERMSKEY`),
  KEY `LOANTRANSACTION_TYPE_IDX` (`TYPE`),
  KEY `LOANTRANSACTION_TYPE_ENTRYDATE_BRANCHKEY_IDX` (`TYPE`,`ENTRYDATE`,`BRANCHKEY`)
) ENGINE=InnoDB AUTO_INCREMENT=609010 DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `productaccountinghub`;
CREATE TABLE `productaccountinghub` (
  `PRODUCTENCODEDKEY` varchar(45) NOT NULL,
  `PRODUCTID` varchar(45) DEFAULT NULL,
  `ACCOUNTCHART` varchar(45) DEFAULT NULL,
  `ENABLE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`PRODUCTENCODEDKEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `sheetparametrization`;
CREATE TABLE `sheetparametrization` (
  `ENCODEDKEY` varchar(45) NOT NULL,
  `ACCOUNTCHART` varchar(45) DEFAULT NULL COMMENT 'ACCOUNTCHART',
  `CREATIONDATE` datetime DEFAULT NULL,
  `CURRENTSTAGE` varchar(45) DEFAULT NULL,
  `CURRENTGLCODE` varchar(45) DEFAULT NULL,
  `CURRENTLOANTRXTYPE` varchar(45) DEFAULT NULL,
  `CURRENTJETYPE` varchar(45) DEFAULT NULL,
  `OUTPUTGLCODE` varchar(45) DEFAULT NULL,
  `OUTPUTGLNAME` varchar(100) DEFAULT NULL,
  `OUTPUTJETYPE` varchar(45) DEFAULT NULL,
  `EXCLUSIONGLCODES` varchar(500) DEFAULT NULL,
  `ADJUST` tinyint(1) NOT NULL DEFAULT '0',
  `OBSERVACIONES` varchar(5000) DEFAULT NULL,
  `ENABLE` tinyint(1) NOT NULL DEFAULT '0',
  `TAXENTRY` tinyint(1) NOT NULL DEFAULT '0',
  `PRINCIPAL` tinyint(1) NOT NULL DEFAULT '0',
  `OVERDUEPPAL` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`ENCODEDKEY`),
  KEY `idx_sheetparametrization_STAGE_GLCODE_LOANTX` (`CURRENTSTAGE`,`CURRENTGLCODE`,`CURRENTLOANTRXTYPE`),
  KEY `idx_sheetparametrization_STAGE_GLCODE_LOANTX_JETYPE` (`CURRENTSTAGE`,`CURRENTGLCODE`,`CURRENTLOANTRXTYPE`,`CURRENTJETYPE`),
  KEY `idx_sheetparametrization_STAGE_LOANTX_JETYPE` (`CURRENTSTAGE`,`CURRENTLOANTRXTYPE`,`CURRENTJETYPE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `transactionchannel`;
CREATE TABLE `transactionchannel` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `ID` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `NAME` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INDEX` int NOT NULL,
  `CREATEDBYUSERKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `CREATIONDATE` datetime DEFAULT NULL,
  `ACTIVATED` bit(1) NOT NULL DEFAULT b'1',
  `SAVINGSCONSTRAINTSUSAGE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'UNCONSTRAINED_USAGE',
  `LOANCONSTRAINTSUSAGE` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL DEFAULT 'UNCONSTRAINED_USAGE',
  `USAGERIGHTSKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `LOAN_CUSTOM_FILTER_CONSTRAINT_KEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `SAVINGS_CUSTOM_FILTER_CONSTRAINT_KEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  UNIQUE KEY `TRANSACTIONCHANNEL_U1` (`ID`),
  KEY `TRANSACTIONCHANNEL_FK1` (`CREATEDBYUSERKEY`),
  KEY `TRANSACTIONCHANNEL_USAGERIGHTS_KEY` (`USAGERIGHTSKEY`),
  KEY `FK_TRANSACTIONCHANNEL_CUSTOMFILTER_LOAN_CONSTRAINT_KEY_IDX` (`LOAN_CUSTOM_FILTER_CONSTRAINT_KEY`),
  KEY `FK_TRANSACTIONCHANNEL_CUSTOMFILTER_SAVINGS_CONSTRAINT_KEY_IDX` (`SAVINGS_CUSTOM_FILTER_CONSTRAINT_KEY`),
  CONSTRAINT `FK_TRANSACTIONCHANNEL_CUSTOMFILTER_LOAN_CONSTRAINT_KEY` FOREIGN KEY (`LOAN_CUSTOM_FILTER_CONSTRAINT_KEY`) REFERENCES `customfilter` (`ENCODEDKEY`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_TRANSACTIONCHANNEL_CUSTOMFILTER_SAVINGS_CONSTRAINT_KEY` FOREIGN KEY (`SAVINGS_CUSTOM_FILTER_CONSTRAINT_KEY`) REFERENCES `customfilter` (`ENCODEDKEY`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `TRANSACTIONCHANNEL_FK1` FOREIGN KEY (`CREATEDBYUSERKEY`) REFERENCES `user` (`ENCODEDKEY`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `TRANSACTIONCHANNEL_USAGERIGHTS_FK` FOREIGN KEY (`USAGERIGHTSKEY`) REFERENCES `usagerights` (`ENCODEDKEY`) ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

DROP TABLE IF EXISTS `transactiondetails`;
CREATE TABLE `transactiondetails` (
  `ENCODEDKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL,
  `TRANSACTIONCHANNELKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  `INTERNALTRANSFER` bit(1) NOT NULL DEFAULT b'0',
  `TARGETSAVINGSACCOUNTKEY` varchar(32) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin DEFAULT NULL,
  PRIMARY KEY (`ENCODEDKEY`),
  KEY `TRANSACTIONCHANNELKEY_IDX` (`TRANSACTIONCHANNELKEY`),
  KEY `TARGETSAVINGSACCOUNTKEY_IDX` (`TARGETSAVINGSACCOUNTKEY`),
  CONSTRAINT `FK_TRANSACTIONDETAILS_SAVINGSACCOUNT_SAVINGSACCOUNTKEY` FOREIGN KEY (`TARGETSAVINGSACCOUNTKEY`) REFERENCES `savingsaccount` (`ENCODEDKEY`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `TRANSACTIONDETAILS_FK1` FOREIGN KEY (`TRANSACTIONCHANNELKEY`) REFERENCES `transactionchannel` (`ENCODEDKEY`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;